import{f as Z,u as I,a as J,j as e,B as F,c as T,r as ve,p as fe,U as ye,T as Ie,L as we,g as U,h as be,i as Se,k as je,l as ze,m as Ne,d as S,N as ke,b as Re,e as _e}from"./index-NSb1Kk_x.js";import{u as Ee}from"./useRouteContext-CUOqKAUk.js";import{u as Me,a as Pe,I as B,b as G}from"./InputBase-Pb_9RSMo.js";var j={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21"};const H={orientation:"horizontal"},Ae=T((s,{borderWidth:o})=>({group:{"--ai-border-width":ve(o)}})),O=Z((s,o)=>{const n=I("ActionIconGroup",H,s),{className:i,style:u,classNames:l,styles:d,unstyled:a,orientation:g,vars:c,borderWidth:h,variant:x,mod:C,...t}=I("ActionIconGroup",H,s),p=J({name:"ActionIconGroup",props:n,classes:j,className:i,style:u,classNames:l,styles:d,unstyled:a,vars:c,varsResolver:Ae,rootSelector:"group"});return e.jsx(F,{...p("group"),ref:o,variant:x,mod:[{"data-orientation":g},C],role:"group",...t})});O.classes=j;O.displayName="@mantine/core/ActionIconGroup";const Le={},De=T((s,{size:o,radius:n,variant:i,gradient:u,color:l,autoContrast:d})=>{const a=s.variantColorResolver({color:l||s.primaryColor,theme:s,gradient:u,variant:i||"filled",autoContrast:d});return{root:{"--ai-size":U(o,"ai-size"),"--ai-radius":n===void 0?void 0:be(n),"--ai-bg":l||i?a.background:void 0,"--ai-hover":l||i?a.hover:void 0,"--ai-hover-color":l||i?a.hoverColor:void 0,"--ai-color":a.color,"--ai-bd":l||i?a.border:void 0}}}),z=fe((s,o)=>{const n=I("ActionIcon",Le,s),{className:i,unstyled:u,variant:l,classNames:d,styles:a,style:g,loading:c,loaderProps:h,size:x,color:C,radius:t,__staticSelector:p,gradient:w,vars:N,children:k,disabled:f,"data-disabled":b,autoContrast:$,mod:R,..._}=n,y=J({name:["ActionIcon",p],props:n,className:i,style:g,classes:j,classNames:d,styles:a,unstyled:u,vars:N,varsResolver:De});return e.jsxs(ye,{...y("root",{active:!f&&!c&&!b}),..._,unstyled:u,variant:l,size:x,disabled:f||c,ref:o,mod:[{loading:c,disabled:f||b},R],children:[e.jsx(Ie,{mounted:!!c,transition:"slide-down",duration:150,children:E=>e.jsx(F,{component:"span",...y("loader",{style:E}),"aria-hidden":!0,children:e.jsx(we,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...h})})}),e.jsx(F,{component:"span",mod:{loading:c},...y("icon"),children:k})]})});z.classes=j;z.displayName="@mantine/core/ActionIcon";z.Group=O;const Fe=({reveal:s})=>e.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"var(--psi-icon-size)",height:"var(--psi-icon-size)"},children:e.jsx("path",{d:s?"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z":"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})});var V={root:"m_f61ca620",input:"m_ccf8da4c",innerInput:"m_f2d85dd2",visibilityToggle:"m_b1072d44"};const Ue={visibilityToggleIcon:Fe},Ve=T((s,{size:o})=>({root:{"--psi-icon-size":U(o,"psi-icon-size"),"--psi-button-size":U(o,"psi-button-size")}})),W=Z((s,o)=>{const n=I("PasswordInput",Ue,s),{classNames:i,className:u,style:l,styles:d,unstyled:a,vars:g,required:c,error:h,leftSection:x,disabled:C,id:t,variant:p,inputContainer:w,description:N,label:k,size:f,errorProps:b,descriptionProps:$,labelProps:R,withAsterisk:_,inputWrapperOrder:y,wrapperProps:E,radius:q,rightSection:ee,rightSectionWidth:se,rightSectionPointerEvents:oe,leftSectionWidth:te,visible:re,defaultVisible:ae,onVisibilityChange:ne,visibilityToggleIcon:ie,visibilityToggleButtonProps:r,rightSectionProps:le,leftSectionProps:ce,leftSectionPointerEvents:de,withErrorStyles:pe,mod:ue,...me}=n,M=Se(t),[P,ge]=Me({value:re,defaultValue:ae,finalValue:!1,onChange:ne}),A=()=>ge(!P),L=J({name:"PasswordInput",classes:V,props:n,className:u,style:l,classNames:i,styles:d,unstyled:a,vars:g,varsResolver:Ve}),{resolvedClassNames:D,resolvedStyles:K}=Pe({classNames:i,styles:d,props:n}),{styleProps:he,rest:Y}=je(me),xe=ie,Ce=e.jsx(z,{...L("visibilityToggle"),disabled:C,radius:q,"aria-hidden":!r,tabIndex:-1,...r,variant:"subtle",color:"gray",unstyled:a,onTouchEnd:m=>{var v;m.preventDefault(),(v=r==null?void 0:r.onTouchEnd)==null||v.call(r,m),A()},onMouseDown:m=>{var v;m.preventDefault(),(v=r==null?void 0:r.onMouseDown)==null||v.call(r,m),A()},onKeyDown:m=>{var v;(v=r==null?void 0:r.onKeyDown)==null||v.call(r,m),m.key===" "&&(m.preventDefault(),A())},children:e.jsx(xe,{reveal:P})});return e.jsx(B.Wrapper,{required:c,id:M,label:k,error:h,description:N,size:f,classNames:D,styles:K,__staticSelector:"PasswordInput",errorProps:b,descriptionProps:$,unstyled:a,withAsterisk:_,inputWrapperOrder:y,inputContainer:w,variant:p,labelProps:{...R,htmlFor:M},mod:ue,...L("root"),...he,...E,children:e.jsx(B,{component:"div",error:h,leftSection:x,size:f,classNames:{...D,input:ze(V.input,D.input)},styles:K,radius:q,disabled:C,__staticSelector:"PasswordInput",rightSectionWidth:se,rightSection:ee??Ce,variant:p,unstyled:a,leftSectionWidth:te,rightSectionPointerEvents:oe||"all",rightSectionProps:le,leftSectionProps:ce,leftSectionPointerEvents:de,withAria:!1,withErrorStyles:pe,children:e.jsx("input",{required:c,"data-invalid":!!h||void 0,"data-with-left-section":!!x||void 0,...L("innerInput"),disabled:C,id:M,ref:o,...Y,autoComplete:Y.autoComplete||"off",type:P?"text":"password"})})})});W.classes={...G.classes,...V};W.displayName="@mantine/core/PasswordInput";const Ze={},X=Z((s,o)=>{const n=I("TextInput",Ze,s);return e.jsx(G,{component:"input",ref:o,...n,__staticSelector:"TextInput"})});X.classes=G.classes;X.displayName="@mantine/core/TextInput";const Je="https://nyxkyrlcppkrsubvkytj.supabase.co",Te="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im55eGt5cmxjcHBrcnN1YnZreXRqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzE5MjYzMzksImV4cCI6MjA0NzUwMjMzOX0.BUMwwqrzX0kdxKvVf7jd7p31BwDxDf0ZdilcfLh7WlA",Ge=Ne(Je,Te),Oe={backgroundColor:"#F59F00",marginTop:"40px",color:"black"},Q={width:"690px",marginTop:"55px",color:"#364FC7"};function We(){const s=Ee({from:"/login"}),[o,n]=S.useState(""),[i,u]=S.useState(""),[l,d]=S.useState(""),[a,g]=S.useState("");async function c(){const{data:t,error:p}=await Ge.auth.signInWithPassword({email:o,password:i}).then();s.setUserInfo(t),localStorage.setItem("token",JSON.stringify(t));const w=Date.now()+3e6;localStorage.setItem("tokenTime",w),p!=null&&(console.log("error",p),d(p.message),g(p.message)),window.location.href="/"}const h=t=>{t.preventDefault(),c()};function x(t){n(t.target.value),d(null)}function C(t){u(t.target.value),g(null)}return Date.now()<localStorage.getItem("tokenTime")?(s.setUserInfo(JSON.parse(localStorage.getItem("token"))),console.log("token not expired"),console.log(JSON.parse(localStorage.getItem("token"))),e.jsx(ke,{to:"/"})):(console.log("token expired"),e.jsxs("div",{children:[e.jsx("h1",{style:{color:"#364FC7"},children:"Login"}),e.jsxs("form",{children:[e.jsx(X,{size:"xl",radius:"xs",label:"Mail",placeholder:"cph-business mail",type:"text",value:o,onChange:t=>x(t),style:Q,error:l,required:!0}),e.jsx(W,{size:"xl",radius:"xs",label:"Kode",placeholder:"Adgangskode",value:i,onChange:t=>C(t),type:"password",style:Q,error:a,required:!0}),e.jsx(Re,{type:"submit",onClick:h,variant:"filled",color:"#F08C00",size:"xl",radius:"md",style:Oe,children:"LOGIN"})]})]}))}const Be=_e("/login")({component:$e}),Xe={display:"flex",marginLeft:"138px",marginRight:"612px",marginTop:"181px",backgroundColor:"#D0EBFF"};function $e(){return e.jsxs("div",{style:Xe,children:[e.jsx(We,{}),e.jsx("img",{style:{width:"449px",height:"427px",marginTop:"15px"},src:"img/login-illustation.png",alt:"Illustration"})]})}export{Be as Route};
