import{n as me,f as se,u as ie,o as A,j as e,U as fe,q as re,T as he,L as Q,a as xe,d as j,B as ee,c as ye,s as ke,g as be,r as je,t as te,h as ve,v as Ie,w as le,b as J,R as z,C as Se,e as Te,N as we}from"./index-BZd1myyz.js";import{u as V}from"./useRouteContext-DwEt_CnY.js";import{C as Ce}from"./CheckIcon-CPXoKv-K.js";function Oe(t,o){return typeof t=="boolean"?t:o.autoContrast}const[Pe,ze]=me("Stepper component was not found in tree"),R=()=>null;R.displayName="@mantine/core/StepperCompleted";var $={root:"m_cbb4ea7e",steps:"m_aaf89d0b",separator:"m_2a371ac9",content:"m_78da155d",step:"m_cbb57068","step--horizontal":"m_f56b1e2c","step--vertical":"m_833edb7e",verticalSeparator:"m_6496b3f3",stepWrapper:"m_818e70b",stepIcon:"m_1959ad01",stepCompletedIcon:"m_a79331dc",stepBody:"m_1956aa2a",stepLabel:"m_12051f6c",stepDescription:"m_164eea74"};const F=(t,o)=>typeof t=="function"?e.jsx(t,{step:o||0}):t,Be={withIcon:!0,allowStepClick:!0,iconPosition:"left"},W=se((t,o)=>{const{classNames:n,className:s,style:r,styles:a,vars:i,step:l,state:c,color:y,icon:p,completedIcon:d,progressIcon:m,label:b,description:f,withIcon:h,iconSize:u,loading:S,allowStepClick:g,allowStepSelect:v,iconPosition:C,orientation:L,mod:B,..._}=ie("StepperStep",Be,t),k=ze(),X=A(),x={classNames:n,styles:a},D=c==="stepCompleted"?null:c==="stepProgress"?m:p,O={"data-progress":c==="stepProgress"||void 0,"data-completed":c==="stepCompleted"||void 0};return e.jsxs(fe,{...k.getStyles("step",{className:s,style:r,variant:k.orientation,...x}),mod:[{"icon-position":C||k.iconPosition,"allow-click":g},B],ref:o,...O,..._,__vars:{"--step-color":y?re(y,X):void 0},tabIndex:g?0:-1,children:[h&&e.jsxs("span",{...k.getStyles("stepWrapper",x),children:[e.jsxs("span",{...k.getStyles("stepIcon",x),...O,children:[e.jsx(he,{mounted:c==="stepCompleted",transition:"pop",duration:200,children:N=>e.jsx("span",{...k.getStyles("stepCompletedIcon",{style:N,...x}),children:S?e.jsx(Q,{color:"var(--mantine-color-white)",size:"calc(var(--stepper-icon-size) / 2)",...k.getStyles("stepLoader",x)}):F(d,l)||e.jsx(Ce,{size:"60%"})})}),c!=="stepCompleted"?S?e.jsx(Q,{...k.getStyles("stepLoader",x),size:"calc(var(--stepper-icon-size) / 2)",color:y}):F(D||p,l):null]}),L==="vertical"&&e.jsx("span",{...k.getStyles("verticalSeparator",x),"data-active":c==="stepCompleted"||void 0})]}),(b||f)&&e.jsxs("span",{...k.getStyles("stepBody",x),"data-orientation":k.orientation,"data-icon-position":C||k.iconPosition,children:[b&&e.jsx("span",{...k.getStyles("stepLabel",x),children:F(b,l)}),f&&e.jsx("span",{...k.getStyles("stepDescription",x),children:F(f,l)})]})]})});W.classes=$;W.displayName="@mantine/core/StepperStep";const Le={orientation:"horizontal",iconPosition:"left",allowNextStepsSelect:!0,wrap:!0},_e=ye((t,{color:o,iconSize:n,size:s,contentPadding:r,radius:a,autoContrast:i})=>({root:{"--stepper-color":o?re(o,t):void 0,"--stepper-icon-color":Oe(i,t)?ke({color:o,theme:t,autoContrast:i}):void 0,"--stepper-icon-size":n===void 0?be(s,"stepper-icon-size"):je(n),"--stepper-content-padding":te(r),"--stepper-radius":a===void 0?void 0:ve(a),"--stepper-fz":Ie(s),"--stepper-spacing":te(s)}})),w=se((t,o)=>{var K,U,Y;const n=ie("Stepper",Le,t),{classNames:s,className:r,style:a,styles:i,unstyled:l,vars:c,children:y,onStepClick:p,active:d,icon:m,completedIcon:b,progressIcon:f,color:h,iconSize:u,contentPadding:S,orientation:g,iconPosition:v,size:C,radius:L,allowNextStepsSelect:B,wrap:_,autoContrast:k,...X}=n,x=xe({name:"Stepper",classes:$,props:n,className:r,style:a,classNames:s,styles:i,unstyled:l,vars:c,varsResolver:_e}),D=j.Children.toArray(y),O=D.filter(P=>P.type!==R),N=D.find(P=>P.type===R),de=O.reduce((P,T,I)=>{const G=d===I?"stepProgress":d>I?"stepCompleted":"stepInactive",H=typeof p!="function"?!1:typeof T.props.allowStepSelect=="boolean"?T.props.allowStepSelect:G==="stepCompleted"||B;return P.push(j.cloneElement(T,{icon:T.props.icon||m||I+1,key:I,step:I,state:G,onClick:()=>H&&(p==null?void 0:p(I)),allowStepClick:H,completedIcon:T.props.completedIcon||b,progressIcon:T.props.progressIcon||f,color:T.props.color||h,iconSize:u,radius:L,iconPosition:T.props.iconPosition||v,orientation:g,unstyled:l})),g==="horizontal"&&I!==O.length-1&&P.push(j.createElement("div",{...x("separator"),"data-active":I<d||void 0,"data-orientation":g,key:`separator-${I}`})),P},[]),ue=(U=(K=O[d])==null?void 0:K.props)==null?void 0:U.children,ge=(Y=N==null?void 0:N.props)==null?void 0:Y.children,Z=d>O.length-1?ge:ue;return e.jsx(Pe,{value:{getStyles:x,orientation:g,iconPosition:v},children:e.jsxs(ee,{...x("root"),ref:o,size:C,...X,children:[e.jsx(ee,{...x("steps"),mod:{orientation:g,"icon-position":v,wrap:_&&g!=="vertical"},children:de}),Z&&e.jsx("div",{...x("content"),children:Z})]})})});w.classes=$;w.displayName="@mantine/core/Stepper";w.Completed=R;w.Step=W;function Ne({lokale:t,starttid:o,sluttid:n,date:s}){const r={display:"flex",justifyContent:"center",alignItems:"center",position:"fixed",top:"0",left:"0",right:"0",bottom:"0",backgroundColor:"rgba(0, 0, 0, 0.7)",zIndex:" 3"},a={display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",backgroundColor:"#FFF",bordorRadius:"4px",padding:"26px 55px",width:"762px"},i={backgroundColor:"#F59F00",marginTop:"29px",color:"black"};return e.jsx("div",{style:r,children:e.jsxs("div",{style:a,children:[e.jsxs("h1",{style:{color:"#2B8A3E"},children:[e.jsx("img",{style:{width:"50px",height:"50px",marginRight:"20px"},src:"img/check.svg",alt:""}),"Bookning bekræftet"]}),e.jsxs("p",{children:["Lokale: ",e.jsx("b",{children:t})]}),e.jsxs("p",{children:["Dato: ",e.jsx("b",{children:s})]}),e.jsxs("p",{children:["Tidspunkt: ",e.jsxs("b",{children:[o," - ",n]})]}),e.jsx("p",{children:"Vær opmærksom på at hvis du er studerende kan få din booking overskrevet  af en underviser, hvis der er mere end 24 timer til din booking. Du vil få en mail med begrundelse for aflysningen. "}),e.jsx("br",{}),e.jsx("p",{children:"Er der under 24 timer til din booking og en underviser vil booke lokalet, vil du få en mail med en anmodning om at overtage bookingen. Du må selv bestemme om du vil beholde eller overgive bookingen."}),e.jsx(le,{to:"/ownBooking",children:e.jsx(J,{type:"submit",variant:"filled",color:"#F08C00",size:"xl",adius:"md",style:i,children:"Til forsiden"})})]})})}const De={width:"45%",padding:"10px 0"};function Fe({setStepper:t,start:o,end:n,status:s,lokale:r,setActiveBooking:a,activeBooking:i,setSelectedInfo:l}){const c=V({from:"/BookLokale"});let y="green";const p=r+"-"+o,d=()=>{y=="green"?(t("2"),a(p),l({lokale:r,startTime:o,endTime:n,isTeacher:!1})):y=="yellow"&&c.userInfo.userdata.isTeacher&&(t("2"),a(p),l({lokale:r,startTime:o,endTime:n,isTeacher:!0}))};return s=="optaget"?y="yellow":s=="teacher"&&(y="red"),e.jsx("div",{style:De,id:p,children:e.jsxs(J,{style:{width:"100%"},color:i==p?"cyan":y,onClick:()=>d(),children:[" ",o," - ",n]})})}var ae={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},oe=z.createContext&&z.createContext(ae),Re=["attr","size","title"];function Ee(t,o){if(t==null)return{};var n=Me(t,o),s,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)s=a[r],!(o.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function Me(t,o){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(o.indexOf(s)>=0)continue;n[s]=t[s]}return n}function E(){return E=Object.assign?Object.assign.bind():function(t){for(var o=1;o<arguments.length;o++){var n=arguments[o];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},E.apply(this,arguments)}function ne(t,o){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);o&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,s)}return n}function M(t){for(var o=1;o<arguments.length;o++){var n=arguments[o]!=null?arguments[o]:{};o%2?ne(Object(n),!0).forEach(function(s){Ae(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Ae(t,o,n){return o=Je(o),o in t?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n,t}function Je(t){var o=Ve(t,"string");return typeof o=="symbol"?o:o+""}function Ve(t,o){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,o||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(t)}function ce(t){return t&&t.map((o,n)=>z.createElement(o.tag,M({key:n},o.attr),ce(o.child)))}function q(t){return o=>z.createElement(Xe,E({attr:M({},t.attr)},o),ce(t.child))}function Xe(t){var o=n=>{var{attr:s,size:r,title:a}=t,i=Ee(t,Re),l=r||n.size||"1em",c;return n.className&&(c=n.className),t.className&&(c=(c?c+" ":"")+t.className),z.createElement("svg",E({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,i,{className:c,style:M(M({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&z.createElement("title",null,a),t.children)};return oe!==void 0?z.createElement(oe.Consumer,null,n=>o(n)):o(ae)}function pe(t){return q({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"40",d:"M196 220h64v172"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"40",d:"M187 396h138"},child:[]},{tag:"path",attr:{d:"M256 160a32 32 0 1 1 32-32 32 32 0 0 1-32 32z"},child:[]}]})(t)}function $e({onClose:t}){const o=A(),n={display:"flex",justifyContent:"center",alignItems:"center",position:"fixed",top:"0",left:"0",right:"0",bottom:"0",backgroundColor:"rgba(0, 0, 0, 0.7)",zIndex:" 3"},s={display:"flex",flexDirection:"column",backgroundColor:"#FFF",bordorRadius:"4px",padding:"12px 16px",width:"422px"},r={borderColor:"red",width:"fit-content",justifySelf:"right"};return e.jsx("div",{style:n,children:e.jsxs("div",{style:s,children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("h2",{style:{margin:"0",color:o.colors.red[9]},children:"Farverne betyder"}),e.jsxs("span",{children:[e.jsx("button",{style:r,children:e.jsx(pe,{style:{color:"red",fontSize:"24px"}})}),e.jsx(Se,{onClick:t})]})]}),e.jsxs("ul",{style:{listStyle:"none",padding:"0"},children:[e.jsxs("li",{style:{display:"flex"},children:[e.jsx("div",{style:{width:"20px",height:"20px",backgroundColor:o.colors.green[8],margin:"0 10px",borderRadius:"50%"}}),"Lokalet er frit"]}),e.jsxs("li",{style:{display:"flex"},children:[e.jsx("div",{style:{width:"20px",height:"20px",backgroundColor:o.colors.yellow[8],margin:"0 10px",borderRadius:"50%"}}),"Booket af en studerende"]}),e.jsxs("li",{style:{display:"flex"},children:[e.jsx("div",{style:{width:"20px",height:"20px",backgroundColor:o.colors.red[8],margin:"0 10px",borderRadius:"50%"}}),"Booket af en underviser"]}),e.jsxs("li",{style:{display:"flex"},children:[e.jsx("div",{style:{width:"20px",height:"20px",backgroundColor:o.colors.cyan[8],margin:"0 10px",borderRadius:"50%"}}),"Din valgte booking"]})]})]})})}function We(t){return q({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(t)}function qe(t){return q({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(t)}function Ze({lokale:t}){const[o,n]=j.useState(0),r={"3.9 Open Learning":["img/lokale3-9.jpg","img/lokale3-9-2.jpg","img/lokale3-9-3.jpg"],"3.2":["img/lokale3-2.jpg","img/lokale3-2-2.jpg"]}[t]||[],a=()=>{n((o+1)%r.length)},i=()=>{n((o-1+r.length)%r.length)};return r.length===0?e.jsx("div",{children:" "}):e.jsxs("div",{children:[e.jsx("div",{style:{width:"300px",height:"200px",display:"flex",overflow:"hidden"},children:e.jsx("img",{style:{width:"300px",height:"200px"},src:r[o],alt:`Image of lokale ${t}`})}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",width:"364px",position:"relative",bottom:"100px",right:"32px"},children:[e.jsx("button",{className:"Chevron-Knap",onClick:i,children:e.jsx(We,{})}),e.jsx("button",{className:"Chevron-Knap",onClick:a,children:e.jsx(qe,{})})]})]})}function Ke({lokale:t,starttid:o,sluttid:n,etage:s,date:r}){const a={display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",backgroundColor:"#FFF",bordorRadius:"4px",padding:"26px 55px",width:"762px",position:"fixed",top:"10%",left:"23%",zIndex:"3"},i={backgroundColor:"#F59F00",marginTop:"29px",color:"black"};return e.jsx("div",{children:e.jsxs("div",{style:a,children:[e.jsxs("h1",{style:{color:"#2B8A3E"},children:[e.jsx("img",{style:{width:"50px",height:"50px",marginRight:"20px"},src:"img/check.svg",alt:"godtkent mærke"}),"Bookning bekræftet"]}),e.jsxs("p",{children:["Lokale: ",e.jsx("b",{children:t})]}),e.jsxs("p",{children:["Dato: ",e.jsx("b",{children:r})]}),e.jsxs("p",{children:["Tidspunkt: ",e.jsxs("b",{children:[o," - ",n]})]}),e.jsx("p",{children:"Din booking har nu overskrevet en andens, og der bliver sendt en besked til vedkommende."}),e.jsx(le,{to:"ownBooking",children:e.jsx(J,{type:"submit",variant:"filled",color:"#F08C00",size:"xl",radius:"md",style:i,children:"Til forsiden"})})]})})}const Ue={display:"flex",borderRadius:"9px",background:"#A5D8FF",width:"1164px",padding:"0 35px 26px 30px",position:"relative",justifyContent:"space-between"};function Ye({setStepper:t,lokale:o,times:n,setActiveBooking:s,activeBooking:r}){const a=A(),i=V({from:"/BookLokale"});console.log("context",i),i.bookingInfo.startTime!=""&&t("2");const[l,c]=j.useState({lokale:o,startTime:i.bookingInfo.startTime,endTime:i.bookingInfo.endTime}),[y,p]=j.useState(!1),[d,m]=j.useState(!1),b=()=>{p(!y)},f=()=>{m(!d)};async function h(){if(l.startTime==null||l.startTime==null||l.startTime==""){alert("Vælg venligst en tid");return}const v="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im55eGt5cmxjcHBrcnN1YnZreXRqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzE5MjYzMzksImV4cCI6MjA0NzUwMjMzOX0.BUMwwqrzX0kdxKvVf7jd7p31BwDxDf0ZdilcfLh7WlA";if(l.isTeacher){const B=await fetch(`https://nyxkyrlcppkrsubvkytj.supabase.co/rest/v1/currentBookings?roomNumber=eq.${l.lokale}&bookingDate=eq.${i.bookingInfo.date}&startTime=eq.${l.startTime}:00`,{method:"PATCH",body:JSON.stringify({email:i.userInfo.user.email,user_id:i.userInfo.user.id,isTeacher:!0}),headers:{"Content-Type":"application/json",Accept:"application/json",apikey:v,Authorization:`Bearer ${i.userInfo.session.access_token}`,Prefer:"return=representation"}}),_=await B.json();if(console.log(_),B.ok){f();return}}const C=await fetch("https://nyxkyrlcppkrsubvkytj.supabase.co/rest/v1/currentBookings",{method:"POST",body:JSON.stringify({email:i.userInfo.user.email,user_id:i.userInfo.user.id,bookingDate:i.bookingInfo.date,floor:i.bookingInfo.etage,startTime:l.startTime+":00",endTime:l.endTime+":00",roomNumber:l.lokale,isTeacher:i.userInfo.userdata.isTeacher}),headers:{"Content-Type":"application/json",Accept:"application/json",apikey:v,Authorization:`Bearer ${i.userInfo.session.access_token}`,Prefer:"return=representation"}}),L=await C.json();console.log(L),C.ok&&b()}const[u,S]=j.useState(!1),g=()=>{S(!u)};return e.jsxs("div",{style:Ue,children:[y&&e.jsx(Ne,{onClose:b,lokale:l.lokale,starttid:l.startTime,sluttid:l.endTime,date:i.bookingInfo.date}),d&&e.jsx(Ke,{onClose:f,lokale:l.lokale,starttid:l.startTime,sluttid:l.endTime,date:i.bookingInfo.date}),u&&e.jsx($e,{onClose:g}),e.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[e.jsxs("h2",{style:{color:a.colors.blue[8],width:"250px"},children:["Grupperum - ",o]}),e.jsx(Ze,{lokale:o})]}),e.jsxs("div",{style:{width:"400px"},children:[e.jsx("h2",{children:"Tider"}),e.jsx("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",gap:"10%"},children:n.map(v=>e.jsx(Fe,{start:v.startTime,end:v.endTime,status:v.bookingStatus,setStepper:t,setActiveBooking:s,activeBooking:r,lokale:o,setSelectedInfo:c}))})]}),e.jsx("div",{style:{alignSelf:"center"},children:e.jsx(J,{style:{alignSelf:"center"},onClick:h,className:"BookLokale",radius:"md",size:"xl",color:"indigo",children:"Book lokale"})}),e.jsxs("div",{style:{position:"absolute",top:"10px",right:"10px",display:"flex",alignItems:"center"},children:[e.jsx("p",{style:{color:a.colors.blue[8],fontWeight:"bold"},children:"Hvad betyder farverne ?"}),e.jsx("button",{style:{borderColor:"red",marginLeft:"10px"},onClick:g,children:e.jsx(pe,{style:{color:"red",fontSize:"24px"}})})]})]})}function Ge({setStepper:t}){const o=A(),n=V({from:"/BookLokale"}),[s,r]=j.useState([]),[a,i]=j.useState(null);async function l(){const p=await(await fetch(`https://nyxkyrlcppkrsubvkytj.supabase.co/rest/v1/currentBookings?bookingDate=eq.${n.bookingInfo.date}&floor=eq.${n.bookingInfo.etage}`,{headers:{apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im55eGt5cmxjcHBrcnN1YnZreXRqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzE5MjYzMzksImV4cCI6MjA0NzUwMjMzOX0.BUMwwqrzX0kdxKvVf7jd7p31BwDxDf0ZdilcfLh7WlA",Authorization:`Bearer ${n.userInfo.session.access_token}`}})).json();console.log("data",p);const d=[{lokale:"Audiotoriet",etage:"1"},{lokale:"Lobbyen",etage:"1"},{lokale:"3D print",etage:"1"},{lokale:"Medialab",etage:"2"},{lokale:"3.1",etage:"3"},{lokale:"3.2",etage:"3"},{lokale:"3.4",etage:"3"},{lokale:"3.5",etage:"3"},{lokale:"3.6",etage:"3"},{lokale:"3.7",etage:"3"},{lokale:"3.8 Open Learning",etage:"3"},{lokale:"3.9 Open Learning",etage:"3"},{lokale:"3.10",etage:"3"},{lokale:"3.11",etage:"3"}],m=[{startTime:"08:30",endTime:"09:30"},{startTime:"09:30",endTime:"10:30"},{startTime:"10:30",endTime:"11:30"},{startTime:"11:30",endTime:"12:30"},{startTime:"12:30",endTime:"13:30"},{startTime:"13:30",endTime:"14:30"},{startTime:"14:30",endTime:"15:30"},{startTime:"15:30",endTime:"16:30"}],b=[];let f=[];if(p.length===0){for(let h=0;h<d.length;h++)if(d[h].etage==n.bookingInfo.etage){for(let u=0;u<m.length;u++)f.push({startTime:m[u].startTime,endTime:m[u].endTime,bookingStatus:"ledig"});b.push({lokale:d[h].lokale,ableTimes:f}),f=[]}}else for(let h=0;h<d.length;h++)if(d[h].etage==n.bookingInfo.etage){f=[];for(let u=0;u<m.length;u++){let S=!1;for(let g=0;g<p.length;g++)if(m[u].startTime==p[g].startTime.slice(0,-3)&&d[h].lokale==p[g].roomNumber){p[g].isTeacher?f.push({startTime:m[u].startTime,endTime:m[u].endTime,bookingStatus:"teacher"}):f.push({startTime:m[u].startTime,endTime:m[u].endTime,bookingStatus:"optaget"}),S=!0;break}S||f.push({startTime:m[u].startTime,endTime:m[u].endTime,bookingStatus:"ledig"})}b.push({lokale:d[h].lokale,ableTimes:f})}r(b)}return j.useEffect(()=>{l(),(n.bookingInfo.startTime!=null||n.bookingInfo.startTime!=null||n.bookingInfo.startTime!="")&&i(n.bookingInfo.lokale+"-"+n.bookingInfo.startTime)},[]),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"50px"},children:[e.jsxs("h1",{style:{color:o.colors.blue[8]},children:[n.bookingInfo.etage,". Etage og tider for den ",n.bookingInfo.date]}),s.map(c=>e.jsx(Ye,{lokale:c.lokale,times:c.ableTimes,setStepper:t,activeBooking:a,setActiveBooking:i}))]})}const He="_separator_141uf_3",Qe="_stepIcon_141uf_35",et="_step_141uf_35",tt={separator:He,stepIcon:Qe,step:et},ot={width:"700px"};function nt({active:t}){return e.jsx("div",{children:e.jsxs(w,{style:ot,classNames:tt,active:t,children:[e.jsx(w.Step,{description:"Valg af sal og lokale"}),e.jsx(w.Step,{description:"Vælg tidspunkt"}),e.jsx(w.Step,{description:"Booking færdig"})]})})}const ct=Te("/BookLokale")({component:st});function st(){const[t,o]=j.useState("1"),n=V({from:"/BookLokale"});return n.bookingInfo==null||n.bookingInfo==null||n.bookingInfo==""?e.jsx("div",{children:e.jsx(we,{to:"/"})}):e.jsxs("div",{style:{margin:"50px auto 0 auto",width:"1164px"},children:[e.jsx(nt,{active:t}),e.jsx(Ge,{setStepper:o})]})}export{ct as Route};
