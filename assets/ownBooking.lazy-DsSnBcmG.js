import{r as I,f as w,u as z,a as B,j as e,B as S,c as R,b as h,d as g,e as F,N as D}from"./index-NSb1Kk_x.js";import{u as f}from"./useRouteContext-CUOqKAUk.js";const A=["h1","h2","h3","h4","h5","h6"],E=["xs","sm","md","lg","xl"];function J(n,i){const t=i!==void 0?i:`h${n}`;return A.includes(t)?{fontSize:`var(--mantine-${t}-font-size)`,fontWeight:`var(--mantine-${t}-font-weight)`,lineHeight:`var(--mantine-${t}-line-height)`}:E.includes(t)?{fontSize:`var(--mantine-font-size-${t})`,fontWeight:`var(--mantine-h${n}-font-weight)`,lineHeight:`var(--mantine-h${n}-line-height)`}:{fontSize:I(t),fontWeight:`var(--mantine-h${n}-font-weight)`,lineHeight:`var(--mantine-h${n}-line-height)`}}var b={root:"m_8a5d1357"};const M={order:1},$=R((n,{order:i,size:t,lineClamp:s,textWrap:l})=>{const o=J(i,t);return{root:{"--title-fw":o.fontWeight,"--title-lh":o.lineHeight,"--title-fz":o.fontSize,"--title-line-clamp":typeof s=="number"?s.toString():void 0,"--title-text-wrap":l}}}),y=w((n,i)=>{const t=z("Title",M,n),{classNames:s,className:l,style:o,styles:r,unstyled:c,order:a,vars:p,size:u,variant:x,lineClamp:j,textWrap:_,mod:k,...C}=t,v=B({name:"Title",props:t,classes:b,className:l,style:o,classNames:s,styles:r,unstyled:c,vars:p,varsResolver:$});return[1,2,3,4,5,6].includes(a)?e.jsx(S,{...v("root"),component:`h${a}`,variant:x,ref:i,mod:[{order:a,"data-line-clamp":typeof j=="number"},k],size:u,...C}):null});y.classes=b;y.displayName="@mantine/core/Title";const N={display:"flex",justifyContent:"center",alignItems:"center",position:"fixed",top:"0",left:"0",right:"0",bottom:"0",backgroundColor:"rgba(0, 0, 0, 0.7)",zIndex:" 3"},L={display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",backgroundColor:"#FFF",bordorRadius:"4px",padding:"26px 55px",width:"762px"},m={color:"white"};function W({onClose:n,onConfirm:i,starttid:t,sluttid:s,id:l}){const o=f({from:"/ownBooking"});function r(){console.log(l),c(l),i()}async function c(a){console.log(a);const x=await(await fetch(`https://nyxkyrlcppkrsubvkytj.supabase.co/rest/v1/currentBookings?id=eq.${a}`,{method:"DELETE",body:JSON.stringify(a),headers:{apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im55eGt5cmxjcHBrcnN1YnZreXRqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzE5MjYzMzksImV4cCI6MjA0NzUwMjMzOX0.BUMwwqrzX0kdxKvVf7jd7p31BwDxDf0ZdilcfLh7WlA",Authorization:`Bearer ${o.userInfo.session.access_token}`}})).json();console.log(x)}return e.jsx("div",{style:N,children:e.jsxs("div",{style:L,children:[e.jsx("h1",{style:{color:"#364FC7"},children:"Vil du annullere din bookning?"}),e.jsxs("p",{style:{color:"black"},children:["Din booking ",t," til ",s," vil blive annulleret "]}),e.jsxs("div",{style:{display:"flex",gap:"100px",marginTop:"30px"},children:[e.jsx(h,{onClick:r,variant:"filled",color:"#2B8A3E",size:"lg",radius:"md",style:m,children:"Ja"}),e.jsx(h,{onClick:n,variant:"filled",color:"#C92A2A",size:"lg",radius:"md",style:m,children:"Nej"})]})]})})}const X={display:"flex",justifyContent:"center",alignItems:"center",position:"fixed",top:"0",left:"0",right:"0",bottom:"0",backgroundColor:"rgba(0, 0, 0, 0.7)",zIndex:" 3"},O={display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",backgroundColor:"#FFF",bordorRadius:"4px",padding:"26px 55px",width:"762px"},T={backgroundColor:"#F59F00",marginTop:"29px",color:"black"};function Z({onClose:n,starttid:i,sluttid:t}){return e.jsx("div",{style:X,children:e.jsxs("div",{style:O,children:[e.jsx("h1",{style:{color:"#2B8A3E"},children:"Bookning annulleret"}),e.jsxs("p",{style:{color:"black"},children:["Din booking ",i," til ",t," vil blive annulleret "]}),e.jsx(h,{onClick:n,type:"submit",variant:"filled",color:"#F08C00",size:"xl",radius:"md",style:T,children:"Til bookningner"})]})})}const V={display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 38px",color:"white",position:"relative",background:"#A5D8FF",borderBottomLeftRadius:"2px",borderBottomRightRadius:"2px",height:"112px",borderBottom:"2px solid #74C0FC"},d={width:"20%",fontSize:"22px",fontWeight:"700",height:"32px",display:"flex",alignItems:"center"};function U({id:n,dato:i,lokale:t,starttid:s,sluttid:l}){const[o,r]=g.useState(null),c=()=>r(null),a=()=>r("cancellation"),p=()=>r("confirm"),u=()=>r(null);return e.jsxs("div",{style:V,children:[e.jsx("div",{style:d,children:e.jsx("p",{style:{backgroundColor:"#1C7ED6",padding:"10px",borderRadius:"6px"},children:i})}),e.jsx("div",{style:d,children:e.jsx("p",{style:{backgroundColor:"#1C7ED6",padding:"10px",borderRadius:"6px"},children:t})}),e.jsx("div",{style:d,children:e.jsx("p",{style:{backgroundColor:"#1C7ED6",padding:"10px",borderRadius:"6px"},children:s})}),e.jsx("div",{style:d,children:e.jsxs("p",{style:{backgroundColor:"#1C7ED6",padding:"10px",borderRadius:"6px"},children:[" ",l]})}),e.jsx("div",{id:n,style:{...d,cursor:"pointer"},children:e.jsx("button",{onClick:a,style:{backgroundColor:"#C92A2A",padding:"10px",borderRadius:"6px",color:"white",border:"none"},children:" Annuller booking"})}),o==="cancellation"&&e.jsx(W,{onClose:c,onConfirm:p,starttid:s,sluttid:l,id:n}),o==="confirm"&&e.jsx(Z,{onClose:u,starttid:s,sluttid:l})]})}const Y={display:"flex",alignItems:"center",justifyContent:"space-between",witdh:"100%",height:"70px",borderRadius:"10px",padding:"0 38px",color:"white",position:"relative",background:"#364FC7"},P={margin:"-20px 0",borderLeft:"2px solid #74C0FC",borderRight:"2px solid #74C0FC",padding:"20px 0 0 0",background:"#A5D8FF",display:"flex",flexDirection:"column",borderBottomLeftRadius:"2px",borderBottomRightRadius:"px"};function q(){const[n,i]=g.useState([]),t=f({from:"/ownBooking"}),s=t.userInfo.user.id,l=async()=>{const c=await(await fetch(`https://nyxkyrlcppkrsubvkytj.supabase.co/rest/v1/currentBookings?user_id=eq.${s}`,{headers:{apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im55eGt5cmxjcHBrcnN1YnZreXRqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzE5MjYzMzksImV4cCI6MjA0NzUwMjMzOX0.BUMwwqrzX0kdxKvVf7jd7p31BwDxDf0ZdilcfLh7WlA",Authorization:`Bearer ${t.userInfo.session.access_token}`}})).json();i(c),console.log(c),console.log(t.userInfo.user.id)};return g.useEffect(()=>{l()},[]),e.jsxs("div",{children:[e.jsxs("div",{style:Y,children:[e.jsx("p",{style:{width:"20%",fontSize:"22px",fontWeight:"700"},children:"Dato"}),e.jsx("p",{style:{width:"20%",fontSize:"22px",fontWeight:"700"},children:"Lokale"}),e.jsx("p",{style:{width:"20%",fontSize:"22px",fontWeight:"700"},children:"Start tid"}),e.jsx("p",{style:{width:"20%",fontSize:"22px",fontWeight:"700"},children:"Slut tid"}),e.jsx("p",{style:{width:"20%",fontSize:"22px",fontWeight:"700"},children:"Annuller booking"})]}),e.jsx("div",{style:P,children:n.map(o=>e.jsx(U,{id:o.id,dato:o.bookingDate,lokale:o.roomNumber,starttid:o.startTime,sluttid:o.endTime}))})]})}const ee=F("/ownBooking")({component:K}),H={margin:"100px auto 0 auto",width:"1164px"};function K(){const n=f({from:"/ownBooking"});return n.userInfo==null||n.userInfo==null||n.userInfo==""?e.jsx("div",{children:e.jsx(D,{to:"/login"})}):e.jsxs("div",{style:H,children:[e.jsx(y,{order:1,style:{color:"#364FC7"},children:"Dine bookinger"}),e.jsx(q,{})]})}export{ee as Route};
